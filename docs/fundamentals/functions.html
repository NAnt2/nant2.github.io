<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>NAnt2 - Functions</title>
        <link href="/assets/css/highlight-darcula.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/assets/js/html5shiv.min.js"></script>
        <script src="/assets/js/respond.min.js"></script>
        <![endif]-->  

        <script type="text/javascript" src="/assets/js/anchor.min.js"></script>
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">

                                <!-- mini logo for sidebar mini 50x50 pixels -->
                                <span class="logo-mini"><img src="/assets/img/logo-dark.png"></span>
                                <!-- logo for regular state and mobile devices -->
                                <span class="logo-lg"><img src="/assets/img/logo-dark.png"></span>
                                            </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/reference">Reference</a></li>
        <li><a href="/release">Releases</a></li>
        <li><a href="/blog">Blog</a></li>
        <li><a href="/api">API</a></li>
        <li><a href="https://github.com/NAnt2/NAnt2"><i class="fa fa-github" aria-hidden="true"></i> Source</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
    <div id="infobar-headings"></div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview">
                    <a href="/docs/overview">Overview</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/overview/why-nant">Why NAnt</a></li>
                <li><a href="/docs/overview/system-requirements">System Requirements</a></li>
                <li><a href="/docs/overview/installation">Installation</a></li>
                <li><a href="/docs/overview/getting-started">Getting started</a></li>
                <li><a href="/docs/overview/ant-users">Ant users</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/docs/fundamentals">Fundamentals</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/fundamentals/running-nant">Running NAnt</a></li>
                <li><a href="/docs/fundamentals/build-files">Build files</a></li>
                <li><a href="/docs/fundamentals/projects">Projects</a></li>
                <li><a href="/docs/fundamentals/targets">Targets</a></li>
                <li><a href="/docs/fundamentals/tasks">Tasks</a></li>
                <li><a href="/docs/fundamentals/properties">Properties</a></li>
                <li><a href="/docs/fundamentals/loggers-and-listeners">Loggers and listeners</a></li>
                <li><a href="/docs/fundamentals/expressions">Expressions</a></li>
                <li class="selected"><a href="/docs/fundamentals/functions">Functions</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/contributing">Contributing</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/contributing/development-guide">Development guide</a></li>
                <li><a href="/docs/contributing/release-guide">Release guide</a></li>
                <li><a href="/docs/contributing/release-plan">Release plan</a></li>
                <li><a href="/docs/contributing/external">External resources</a></li>
                <li><a href="/docs/contributing/contributors">Contributors</a></li>

                    </ul>
                </li>
                <li><a href="/docs/faq">Frequently Asked Questions</a></li>
                <li class="treeview">
                    <a href="/docs/nant">NAnt - legacy</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/nant/development-guide">NAnt development guide</a></li>
                <li><a href="/docs/nant/release-guide">NAnt release guide</a></li>
                <li><a href="/docs/nant/release-plan">NAnt release plan</a></li>
                <li><a href="/docs/nant/external">NAnt external resources</a></li>
                <li><a href="/docs/nant/contributors">NAnt/NAntContrib contributors</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Functions</h1>
		</section>
	<section class="content">
		<p>NAnt provides a rich set of bulitin functions, that allow you to:</p>
<ul>
<li>manipulate strings</li>
<li>manipulate date/time values</li>
<li>manipulate path names</li>
<li>read the properties of files/directories</li>
<li>access current build information and more</li>
<li>and more</li>
</ul>
<p>For a full list of supported functions, click <a href="http://nant.sourceforge.net/release/latest/help/functions/index.html">here</a>.</p>
<h2 id="function-call-syntax">Function call syntax</h2>
<p>To call functions, use <em :="" class="text-primary">prefix::function-name(argument1, ..., argumentN)</em> syntax within expressions. NAnt will (implicitly) try to convert the arguments you pass to functions to correct types and will report an error in case of failure.</p>
<p>For example, assuming you would like to call <em :="" class="text-primary">string::contains('0123456789', 1)</em> which expects two string parameters, but you want to pass the second parameter which is an integer. NAnt would attempt to convert the second parameter from <em :="" class="text-primary">int</em> to <em :="" class="text-primary">string</em>, which succeeds and function is called as if it was written as <em :="" class="text-primary">string::contains('0123456789', '1')</em>.</p>
<p>The following table shows the possible type conversions:</p>
<table class="table">
<thead>
<tr>
<th style="text-align: center;">From Type</th>
<th style="text-align: center;">To Type</th>
<th style="text-align: center;">Allowed</th>
<th>Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">int</td>
<td style="text-align: center;">string</td>
<td style="text-align: center;">Yes</td>
<td>The conversion is always possible.</td>
</tr>
<tr>
<td style="text-align: center;">int</td>
<td style="text-align: center;">double</td>
<td style="text-align: center;">Yes</td>
<td>The conversion is always possible.</td>
</tr>
<tr>
<td style="text-align: center;">int</td>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">No</td>
<td>Can be done with the <em :="" class="text-primary">if()</em> conditional operator or simply as (<em :="" class="text-primary">value &lt;&gt; 0</em>)</td>
</tr>
<tr>
<td style="text-align: center;">int</td>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">int</em> to <em :="" class="text-primary">datetime</em>.</td>
</tr>
<tr>
<td style="text-align: center;">int</td>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">No</td>
<td>You can use the <em :="" class="text-primary">timespan::from-xxx</em> functions to construct a <em :="" class="text-primary">timespan</em> from a given number of days, months, ....</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td style="text-align: center;">string</td>
<td style="text-align: center;">int</td>
<td style="text-align: center;">Yes</td>
<td>If the string doesn't represent an integer value, an error is reported.</td>
</tr>
<tr>
<td style="text-align: center;">string</td>
<td style="text-align: center;">double</td>
<td style="text-align: center;">Yes</td>
<td>If the string doesn't represent a floating point value, an error is reported.</td>
</tr>
<tr>
<td style="text-align: center;">string</td>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">Yes</td>
<td>If the string isn't either <em :="" class="text-primary">true</em> or <em :="" class="text-primary">false</em> (case insensitive), an error is reported.</td>
</tr>
<tr>
<td style="text-align: center;">string</td>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">Yes</td>
<td>If the string doesn't represent a valid date/time, an error is reported. Date/time string format is <em :="" class="text-primary">MM/DD/YYYY HH:MI:SS</em></td>
</tr>
<tr>
<td style="text-align: center;">string</td>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">No</td>
<td>You can use <em :="" class="text-primary">timespan::parse</em> to construct a <em :="" class="text-primary">timespan</em> from a time indicated by a given string. If the string doesn't represent a valid timespan, an error is reported.</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td style="text-align: center;">double</td>
<td style="text-align: center;">int</td>
<td style="text-align: center;">Yes</td>
<td>If the string doesn't represent an integer value, an error is reported.</td>
</tr>
<tr>
<td style="text-align: center;">double</td>
<td style="text-align: center;">string</td>
<td style="text-align: center;">Yes</td>
<td>The converted string uses dot as a fractional part separator so the result looks like <em :="" class="text-primary">0.1234567</em></td>
</tr>
<tr>
<td style="text-align: center;">double</td>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">double</em> to <em :="" class="text-primary">boolean</em>.</td>
</tr>
<tr>
<td style="text-align: center;">double</td>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">double</em> to <em :="" class="text-primary">datetime</em>.</td>
</tr>
<tr>
<td style="text-align: center;">double</td>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">No</td>
<td>You can use the <em :="" class="text-primary">timespan::from-xxx</em> functions to construct a <em :="" class="text-primary">timespan</em> from a given number of days, months, ....</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">int</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">boolean</em> to <em :="" class="text-primary">int</em>. You may want to use <em :="" class="text-primary">if(bool value, 1, 0)</em> instead.</td>
</tr>
<tr>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">string</td>
<td style="text-align: center;">Yes</td>
<td>The result is <em :="" class="text-primary">'True'</em> or <em :="" class="text-primary">'False'</em> string.</td>
</tr>
<tr>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">double</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">boolean</em> to <em :="" class="text-primary">double</em>.</td>
</tr>
<tr>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">boolean</em> to <em :="" class="text-primary">datetime</em>.</td>
</tr>
<tr>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">boolean</em> to <em :="" class="text-primary">timespan</em>.</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">int</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">datetime</em> to <em :="" class="text-primary">int</em>.</td>
</tr>
<tr>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">string</td>
<td style="text-align: center;">Yes</td>
<td>The result is a <em>datetime</em> string with the following format: <em :="" class="text-primary">MM/DD/YYYY HH:MI:SS</em></td>
</tr>
<tr>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">double</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">datetime</em> to <em :="" class="text-primary">double</em>.</td>
</tr>
<tr>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">datetime</em> to <em :="" class="text-primary">boolean</em>.</td>
</tr>
<tr>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">No</td>
<td>You can use the value of <em>datetime::get-ticks</em> to construct a <em :="" class="text-primary">timespan</em> using <em :="" class="text-primary">timespan::from-ticks</em>.</td>
</tr>
<tr>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td></td>
</tr>
<tr>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">int</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">timespan</em> to <em :="" class="text-primary">int</em>.</td>
</tr>
<tr>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">double</td>
<td style="text-align: center;">No</td>
<td>You can use <em :="" class="text-primary">timespan::get-ticks</em> to convert from <em :="" class="text-primary">timespan</em> to <em :="" class="text-primary">double</em>.</td>
</tr>
<tr>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">boolean</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">timespan</em> to <em :="" class="text-primary">boolean</em>.</td>
</tr>
<tr>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">string</td>
<td style="text-align: center;">No</td>
<td>You can use <em :="" class="text-primary">timespan::to-string</em> to obtain the <em :="" class="text-primary">string</em> representation of a <em :="" class="text-primary">timespan</em>.</td>
</tr>
<tr>
<td style="text-align: center;">timespan</td>
<td style="text-align: center;">datetime</td>
<td style="text-align: center;">No</td>
<td>You cannot convert from <em :="" class="text-primary">timespan</em> to <em :="" class="text-primary">datetime</em>.</td>
</tr>
</tbody>
</table>
<h2 id="custom-functions">Custom functions</h2>
<p>Just as you can extend NAnt with your own tasks it is also possible to implement your own functions for use in build files.</p>
<p>Functions can be implemented in any .NET language and are loaded in the same manner as tasks. ie either by locating your custom function assembly in the NAnt bin directory or using the <a href="http://nant.sourceforge.net/release/latest/help/tasks/loadtasks.html">&lt;loadtasks&gt;</a> task. Example C# code for a Hello World function :</p>
<p>Define a custom function using C#.</p>
<pre><code class="language-csharp">[FunctionSet("hello", "Hello")]
public class HelloFunctions : <a href="/api/NAnt.Core/FunctionSetBase">FunctionSetBase</a> {        
    public HelloFunctions(Project project, <a href="/api/NAnt.Core/PropertyDictionary">PropertyDictionary</a> properties) : base(project, properties) {
    }
    [Function("hello-world")]
    public static string HelloWorldfunc() {
        return "Hello World!!";
    }
}
</code></pre>
<p>and call that function from a build file.</p>
<pre><code class="language-xml">&lt;echo message="${hello::hello-world()}" /&gt;
</code></pre>
<p>A quick and easy way to develop new functions is to use the <a href="http://nant.sourceforge.net/release/latest/help/tasks/script.html">&lt;script&gt;</a> task. This allows you to create and test new functions without the overhead of building an external assembly. The <a href="http://nant.sourceforge.net/release/latest/help/tasks/script.html">&lt;script&gt;</a> task documentation contains examples of custom function definitions.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <p class="text-muted">
    <a href="https://github.com/savornicesei/NAnt2"><i class="fa fa-github"></i> GitHub</a>
    <br>
    Copyright © 2001-2021 NAnt2 contributors.
    <br>
    Generated by <a href="http://wyam2.github.io">Wyam2</a>
</p>

<script>
    anchors.add();
</script>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>